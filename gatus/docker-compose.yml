services:
  gatus:
    image: ghcr.io/twin/gatus:v5.35.0@sha256:21609f31be8c4e680ce3004b24276305666239c99aff58391503f3fb6142f39d
    container_name: gatus
    restart: unless-stopped
    ports:
      - ${WEB_PORT:-8080}:8080
    volumes:
      - ${DIRECTORY:?Missing variable DIRECTORY}/gatus/config:/config
    environment:
      - DOMAIN=${DOMAIN:?Missing variable DOMAIN}
    labels:
      - traefik.enable=true
      - traefik.http.routers.gatus.tls.certresolver=myresolver
      - traefik.http.services.gatus.loadbalancer.server.port=8080
      - homepage.group=Monitoring
      - homepage.name=gatus
      - homepage.icon=gatus.png
      - homepage.instance.internal.href=${HOST_URL:-http://localhost}:${WEB_PORT:-8080}
      - homepage.instance.public.href=https://gatus.${DOMAIN:?Missing variable DOMAIN}
      - homepage.description=Automated developer-oriented status page
      - homepage.widget.type=gatus
      - homepage.widget.url=${HOST_URL:-http://localhost}:${WEB_PORT:-8080}